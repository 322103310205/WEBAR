<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Centered AR Camera</title>

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>

  <!-- AR.js -->
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: black;
    }
      #startAR {
      position: absolute;
      z-index: 9999;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      padding: 12px 20px;
      font-size: 18px;
      border-radius: 8px;
      border: none;
      background: rgba(0, 150, 255, 0.9);
      color: white;
    }
  </style>
</head>

<body>

  <!-- Start button the script references -->
  <button id="startAR">Start AR</button>

  <a-scene
    id="arScene"
    style="display: none;"
    embedded
    vr-mode-ui="enabled: false"
    xr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: false"
    renderer="precision: mediump; antialias: true;"
    arjs="sourceType: webcam; debugUIEnabled: false;"
  >
    <a-marker preset="hiro">
      <!-- Arrow Wrapper (rotation-ready) -->
      <a-entity id="navArrow" position="0 0 0">
        <!-- Arrow Shaft -->
        <a-cylinder
          position="0 0.4 0"
          radius="0.05"
          height="0.6"
          color="#00ff00">
        </a-cylinder>

        <!-- Arrow Head -->
        <a-cone
          position="0 0.85 0"
          radius-bottom="0.15"
          radius-top="0"
          height="0.3"
          color="#00ff00">
        </a-cone>
      </a-entity>
    </a-marker>

    <!-- Camera entity -->
    <a-entity camera></a-entity>
  </a-scene>

  <script>
    // Run after DOM is ready and avoid calling getUserMedia directly.
    document.addEventListener('DOMContentLoaded', function () {
      const startBtn = document.getElementById('startAR');
      const arScene = document.getElementById('arScene');

      startBtn.addEventListener('click', function () {
        // Hide the start button and show the AR scene.
        startBtn.style.display = 'none';
        arScene.style.display = 'block';

        // AR.js will request the camera because of a user gesture (the click).
        // If you still see camera open/close behaviour, check the console for errors.
      });
    });
  </script>
</body>
</html>

